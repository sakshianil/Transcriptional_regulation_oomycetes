# Shell Scripts Documentation

This README file provides an overview of the shell scripts available in this project and their respective functionalities. These shell scripts are used to automate various processes including read trimming, data alignment, motif analysis, BLAST searches, and gene sequence extraction.

## Directory Structure

### `shell/`
Shell scripts for running automation tasks, including downloading datasets, running pipeline workflows, and executing commands sequentially.

#### **`Pl_halstedii_study/`**
Scripts for Plasmopara halstedii analysis:

- **`1.1_trimming_mapping_host_pathogen.sh`**: This script automates read trimming using Trimmomatic, alignment with STAR, and read counting with FeatureCounts. It is the first script to be used on raw data in the `raw/` folder.
- **`1.5_motif_analysis_meme_suite.sh`**: Performs motif analysis on clustered promoter regions using the MEME Suite. The results are stored in `/python/Pl_halstedii_study/clusters_fasta/` for individual clusters (e.g., `output_1` for cluster number 1). The combined results are saved in `/results/meme/Pl_halstedii_study/`.

#### **`orthologs_motifs_study/`**
Scripts for ortholog analysis:

- **`2.8_run_blast_clusters.sh`**: Executes BLAST searches for gene and promoter clusters using the output generated by scripts in the `python/orthologs_motif_study/` and `python/orthologs_motif_study/validated_effector_genes/` directories. The results for clustered gene and promoter sequences are produced.
- **`2.9_common_upstream.sh`**: Extracts conserved upstream sequences from conserved genes.
- **`2.10_common_upstream_fasta.sh`**: Extracts conserved upstream promoter FASTA sequences of conserved genes retrieved from `2.8_common_upstream.sh`. Results for all promoter clusters are stored in `/results/python/orthologs_motifs_study/clusters/`. All cluster FASTA sequences are concatenated into `/results/python/orthologs_motifs_study/bg_promoter_only_aligned.fasta` for use by the MEME script `2.11_motif_analysis.sh`.
- **`2.11_motif_analysis.sh`**: Conducts motif analysis using the MEME Suite for orthologs. The individual MEME results for all promoter clusters are stored in `/results/python/orthologs_motifs_study/clusters/`, while combined results are saved in `/results/meme/orthologs_motifs_study/`.
- **`2.12_Category_assignment.sh`**: Assigns categories to motifs based on conservation. The input file is `/results/meme/orthologs_motifs_study/combined_fimo.tsv`, and the categorized results are stored in `/results/shell/orthologs_motifs_study/categorized_combined_fimo.tsv`.
- **`validated_effectors/`**: Scripts for retrieval of validated effector sequences from NCBI.
  - **`2.5_blast_nr.sh`**: Runs BLASTp against the non-redundant (NR) database using the `effector_sequences.fa` file as input, with the results stored in `effectors_blast_results.txt`.

#### **`orthologs_TF_study/`**
Scripts for transcription factor analysis:

- **`3.1_motif_analysis_against_jaspar.sh`**: Uses TOMTOM from the MEME Suite to perform motif analysis against the JASPAR database. The results are saved in `/results/meme/orthologs_TF_study/combined_tomtom.tsv`.
- **`3.5_blastp_against_FTFD.sh`**: Conducts sequence alignment of `output_query_sequences.fasta` with `output_subject_sequences.fasta`. The alignment results are stored in `/results/shell/orthologs_TF_study/blastp_output.txt`. This script can be used for any input query sequences, including protein sequences without hits in JASPAR, which can be directly aligned against the FTFD.

## Usage Notes
1. **Dependency Management**: Ensure that all required software is installed in the environment before running these scripts. The shell scripts assume the presence of tools such as Trimmomatic, STAR, FeatureCounts, MEME Suite, and BLAST.
2. **Input and Output Paths**: The scripts contain hardcoded paths for input and output files. Adjust these paths according to your local setup if you are working in a different directory structure.
3. **Order of Execution**: The scripts are designed to be executed in a specific sequence based on the workflow. Refer to each folder's description above for guidance on how to execute the scripts in the correct order.

## Contact
For any questions related to the shell scripts or their execution, please reach out to [Sakshi Bharti](mailto:sakshi.bharti@senckenberg.de).

## License
The shell scripts are provided under the MIT License. Refer to the [LICENSE](../LICENSE) file for details.



